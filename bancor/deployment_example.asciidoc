= Bancor deployment example

== Housekeeping

Please note: All commands below prefixed with > are to be executed in the travis testnet console. The console can be accessed by typing the following command.
[source, bash]
----
travis attach http://localhost:8545
----
To exit the console press ctrl + d

All other commands below are to be run at the bash shell.

=== Install CyberMiles Travis testnet
Use the following installation script to get the environment set up
https://github.com/CyberMiles/travis/blob/develop/README.md

=== Get Bancor code
Fetch the Bancor code from GitHub
[source, bash]
----
cd ~
git clone https://github.com/bancorprotocol/contracts.git
----

=== Go to Lity Home
[source, bash]
----
cd ~/lity/build
----

=== Create some new accounts to test with
[source, javascript]
----
> accountA = personal.newAccount("asdf");
> accountB = personal.newAccount("asdf");
----
You will be required to unlock and fund these accounts from time to time i.e.
[source, javascript]
----
> personal.unlockAccount(accountA , "asdf", 600, function(error, result){if(!error){console.log(result)}else{console.log(error)}});

> cmt.sendTransaction({"from": cmt.coinbase, "to": accountA, "value": web3.toWei(50, "cmt")}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

== Bancor Contracts

=== Migrations

Compile and deploy the Bancor Migrations Solidity file
[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/helpers/Migrations.sol
----

[source, javascript]
----
> var abi = [{"constant":false,"inputs":[{"name":"new_address","type":"address"}],"name":"upgrade","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"last_completed_migration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"completed","type":"uint256"}],"name":"setCompleted","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506102f8806100606000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630900f01014610067578063445df0ac146100aa5780638da5cb5b146100d5578063fdacd5761461012c575b600080fd5b34801561007357600080fd5b506100a8600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610159565b005b3480156100b657600080fd5b506100bf610241565b6040518082815260200191505060405180910390f35b3480156100e157600080fd5b506100ea610247565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561013857600080fd5b506101576004803603810190808035906020019092919050505061026c565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561023d578190508073ffffffffffffffffffffffffffffffffffffffff1663fdacd5766001546040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b15801561022457600080fd5b505af1158015610238573d6000803e3d6000fd5b505050505b5050565b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102c957806001819055505b505600a165627a7a72305820316a6abaf1b99f4b022479ff622dcb8f8500ae7a131911e101feb6364a457a290029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedMigrationsContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

Functions of the Migrations contract can be called like this
[source, javascript]
----
> deployedMigrationsContract.address
"0x89c9a3b7c334b135fed7c7ba4ca58360346ce6e0"

> deployedMigrationsContract.owner({from:accountA});
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"
> deployedMigrationsContract.last_completed_migration({from:accountA});
0
----

=== BancorFormula

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/converter/BancorFormula.sol
----

[source, javascript]
----
> var abi = [{"constant":true,"inputs":[{"name":"_supply","type":"uint256"},{"name":"_connectorBalance","type":"uint256"},{"name":"_connectorWeight","type":"uint32"},{"name":"_depositAmount","type":"uint256"}],"name":"calculatePurchaseReturn","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_supply","type":"uint256"},{"name":"_connectorBalance","type":"uint256"},{"name":"_connectorWeight","type":"uint32"},{"name":"_sellAmount","type":"uint256"}],"name":"calculateSaleReturn","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"version","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fromConnectorBalance","type":"uint256"},{"name":"_fromConnectorWeight","type":"uint32"},{"name":"_toConnectorBalance","type":"uint256"},{"name":"_toConnectorWeight","type":"uint32"},{"name":"_amount","type":"uint256"}],"name":"calculateCrossConnectorReturn","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
----

[source, javascript]
----
> var bytecode = "0x60806040526040805190810160405280600381526020017f302e330000000000000000000000000000000000000000000000000000000000815250600090805190602001906200005192919062000f56565b503480156200005f57600080fd5b50701c35fedd14ffffffffffffffffffffffff600160206080811015156200008357fe5b0181905550701b0ce43b323fffffffffffffffffffffff60016021608081101515620000ab57fe5b01819055507019f0028ec1ffffffffffffffffffffffff60016022608081101515620000d357fe5b01819055507018ded91f0e7fffffffffffffffffffffff60016023608081101515620000fb57fe5b01819055507017d8ec7f0417ffffffffffffffffffffff600160246080811015156200012357fe5b01819055507016ddc6556cdbffffffffffffffffffffff600160256080811015156200014b57fe5b01819055507015ecf52776a1ffffffffffffffffffffff600160266080811015156200017357fe5b01819055507015060c256cb2ffffffffffffffffffffff600160276080811015156200019b57fe5b0181905550701428a2f98d72ffffffffffffffffffffff60016028608081101515620001c357fe5b01819055507013545598e5c23fffffffffffffffffffff60016029608081101515620001eb57fe5b0181905550701288c4161ce1dfffffffffffffffffffff6001602a6080811015156200021357fe5b01819055507011c592761c666fffffffffffffffffffff6001602b6080811015156200023b57fe5b018190555070110a688680a757ffffffffffffffffffff6001602c6080811015156200026357fe5b0181905550701056f1b5bedf77ffffffffffffffffffff6001602d6080811015156200028b57fe5b0181905550700faadceceeff8bffffffffffffffffffff6001602e608081101515620002b357fe5b0181905550700f05dc6b27edadffffffffffffffffffff6001602f608081101515620002db57fe5b0181905550700e67a5a25da4107fffffffffffffffffff600160306080811015156200030357fe5b0181905550700dcff115b14eedffffffffffffffffffff600160316080811015156200032b57fe5b0181905550700d3e7a392431239fffffffffffffffffff600160326080811015156200035357fe5b0181905550700cb2ff529eb71e4fffffffffffffffffff600160336080811015156200037b57fe5b0181905550700c2d415c3db974afffffffffffffffffff60016034608081101515620003a357fe5b0181905550700bad03e7d883f69bffffffffffffffffff60016035608081101515620003cb57fe5b0181905550700b320d03b2c343d5ffffffffffffffffff60016036608081101515620003f357fe5b0181905550700abc25204e02828dffffffffffffffffff600160376080811015156200041b57fe5b0181905550700a4b16f74ee4bb207fffffffffffffffff600160386080811015156200044357fe5b01819055507009deaf736ac1f569ffffffffffffffffff600160396080811015156200046b57fe5b0181905550700976bd9952c7aa957fffffffffffffffff6001603a6080811015156200049357fe5b01819055507009131271922eaa606fffffffffffffffff6001603b608081101515620004bb57fe5b01819055507008b380f3558668c46fffffffffffffffff6001603c608081101515620004e357fe5b0181905550700857ddf0117efa215bffffffffffffffff6001603d6080811015156200050b57fe5b01819055507007ffffffffffffffffffffffffffffffff6001603e6080811015156200053357fe5b01819055507007abbf6f6abb9d087fffffffffffffffff6001603f6080811015156200055b57fe5b018190555070075af62cbac95f7dfa7fffffffffffffff600160406080811015156200058357fe5b018190555070070d7fb7452e187ac13fffffffffffffff60016041608081101515620005ab57fe5b01819055507006c3390ecc8af379295fffffffffffffff60016042608081101515620005d357fe5b018190555070067c00a3b07ffc01fd6fffffffffffffff60016043608081101515620005fb57fe5b0181905550700637b647c39cbb9d3d27ffffffffffffff600160446080811015156200062357fe5b01819055507005f63b1fc104dbd39587ffffffffffffff600160456080811015156200064b57fe5b01819055507005b771955b36e12f7235ffffffffffffff600160466080811015156200067357fe5b018190555070057b3d49dda84556d6f6ffffffffffffff600160476080811015156200069b57fe5b018190555070054183095b2c8ececf30ffffffffffffff60016048608081101515620006c357fe5b018190555070050a28be635ca2b888f77fffffffffffff60016049608081101515620006eb57fe5b01819055507004d5156639708c9db33c3fffffffffffff6001604a6080811015156200071357fe5b01819055507004a23105873875bd52dfdfffffffffffff6001604b6080811015156200073b57fe5b0181905550700471649d87199aa990756fffffffffffff6001604c6080811015156200076357fe5b01819055507004429a21a029d4c1457cfbffffffffffff6001604d6080811015156200078b57fe5b0181905550700415bc6d6fb7dd71af2cb3ffffffffffff6001604e608081101515620007b357fe5b01819055507003eab73b3bbfe282243ce1ffffffffffff6001604f608081101515620007db57fe5b01819055507003c1771ac9fb6b4c18e229ffffffffffff600160506080811015156200080357fe5b0181905550700399e96897690418f785257fffffffffff600160516080811015156200082b57fe5b0181905550700373fc456c53bb779bf0ea9fffffffffff600160526080811015156200085357fe5b018190555070034f9e8e490c48e67e6ab8bfffffffffff600160536080811015156200087b57fe5b018190555070032cbfd4a7adc790560b3337ffffffffff60016054608081101515620008a357fe5b018190555070030b50570f6e5d2acca94613ffffffffff60016055608081101515620008cb57fe5b01819055507002eb40f9f620fda6b56c2861ffffffffff60016056608081101515620008f357fe5b01819055507002cc8340ecb0d0f520a6af58ffffffffff600160576080811015156200091b57fe5b01819055507002af09481380a0a35cf1ba02ffffffffff600160586080811015156200094357fe5b0181905550700292c5bdd3b92ec810287b1b3fffffffff600160596080811015156200096b57fe5b0181905550700277abdcdab07d5a77ac6d6b9fffffffff6001605a6080811015156200099357fe5b018190555070025daf6654b1eaa55fd64df5efffffffff6001605b608081101515620009bb57fe5b0181905550700244c49c648baa98192dce88b7ffffffff6001605c608081101515620009e357fe5b018190555070022ce03cd5619a311b2471268bffffffff6001605d60808110151562000a0b57fe5b0181905550700215f77c045fbe885654a44a0fffffffff6001605e60808110151562000a3357fe5b01819055507001ffffffffffffffffffffffffffffffff6001605f60808110151562000a5b57fe5b01819055507001eaefdbdaaee7421fc4d3ede5ffffffff6001606060808110151562000a8357fe5b01819055507001d6bd8b2eb257df7e8ca57b09bfffffff6001606160808110151562000aab57fe5b01819055507001c35fedd14b861eb0443f7f133fffffff6001606260808110151562000ad357fe5b01819055507001b0ce43b322bcde4a56e8ada5afffffff6001606360808110151562000afb57fe5b018190555070019f0028ec1fff007f5a195a39dfffffff6001606460808110151562000b2357fe5b018190555070018ded91f0e72ee74f49b15ba527ffffff6001606560808110151562000b4b57fe5b018190555070017d8ec7f04136f4e5615fd41a63ffffff6001606660808110151562000b7357fe5b018190555070016ddc6556cdb84bdc8d12d22e6fffffff6001606760808110151562000b9b57fe5b018190555070015ecf52776a1155b5bd8395814f7fffff6001606860808110151562000bc357fe5b018190555070015060c256cb23b3b3cc3754cf40ffffff6001606960808110151562000beb57fe5b01819055507001428a2f98d728ae223ddab715be3fffff6001606a60808110151562000c1357fe5b018190555070013545598e5c23276ccf0ede68034fffff6001606b60808110151562000c3b57fe5b01819055507001288c4161ce1d6f54b7f61081194fffff6001606c60808110151562000c6357fe5b018190555070011c592761c666aa641d5a01a40f17ffff6001606d60808110151562000c8b57fe5b0181905550700110a688680a7530515f3e6e6cfdcdffff6001606e60808110151562000cb357fe5b01819055507001056f1b5bedf75c6bcb2ce8aed428ffff6001606f60808110151562000cdb57fe5b01819055506ffaadceceeff8a0890f3875f008277fff6001607060808110151562000d0257fe5b01819055506ff05dc6b27edad306388a600f6ba0bfff6001607160808110151562000d2957fe5b01819055506fe67a5a25da41063de1495d5b18cdbfff6001607260808110151562000d5057fe5b01819055506fdcff115b14eedde6fc3aa5353f2e4fff6001607360808110151562000d7757fe5b01819055506fd3e7a3924312399f9aae2e0f868f8fff6001607460808110151562000d9e57fe5b01819055506fcb2ff529eb71e41582cccd5a1ee26fff6001607560808110151562000dc557fe5b01819055506fc2d415c3db974ab32a51840c0b67edff6001607660808110151562000dec57fe5b01819055506fbad03e7d883f69ad5b0a186184e06bff6001607760808110151562000e1357fe5b01819055506fb320d03b2c343d4829abd6075f0cc5ff6001607860808110151562000e3a57fe5b01819055506fabc25204e02828d73c6e80bcdb1a95bf6001607960808110151562000e6157fe5b01819055506fa4b16f74ee4bb2040a1ec6c15fbbf2df6001607a60808110151562000e8857fe5b01819055506f9deaf736ac1f569deb1b5ae3f36c130f6001607b60808110151562000eaf57fe5b01819055506f976bd9952c7aa957f5937d790ef650376001607c60808110151562000ed657fe5b01819055506f9131271922eaa6064b73a22d0bd4f2bf6001607d60808110151562000efd57fe5b01819055506f8b380f3558668c46c91c49a2f8e967b96001607e60808110151562000f2457fe5b01819055506f857ddf0117efa215952912839f6473e66001607f60808110151562000f4b57fe5b018190555062001005565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f1062000f9957805160ff191683800117855562000fca565b8280016001018555821562000fca579182015b8281111562000fc957825182559160200191906001019062000fac565b5b50905062000fd9919062000fdd565b5090565b6200100291905b8082111562000ffe57600081600090555060010162000fe4565b5090565b90565b61196f80620010156000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806329a00e7c1461006757806349f9b0f7146100cc57806354fd4d501461013157806365098bb3146101c1575b600080fd5b34801561007357600080fd5b506100b66004803603810190808035906020019092919080359060200190929190803563ffffffff16906020019092919080359060200190929190505050610236565b6040518082815260200191505060405180910390f35b3480156100d857600080fd5b5061011b6004803603810190808035906020019092919080359060200190929190803563ffffffff16906020019092919080359060200190929190505050610315565b6040518082815260200191505060405180910390f35b34801561013d57600080fd5b50610146610419565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561018657808201518184015260208101905061016b565b50505050905090810190601f1680156101b35780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b3480156101cd57600080fd5b5061022060048036038101908080359060200190929190803563ffffffff16906020019092919080359060200190929190803563ffffffff169060200190929190803590602001909291905050506104b7565b6040518082815260200191505060405180910390f35b6000806000806000808911801561024d5750600088115b801561025f575060008763ffffffff16115b801561027a5750620f424063ffffffff168763ffffffff1611155b151561028557600080fd5b60008614156102975760009450610309565b620f424063ffffffff168763ffffffff1614156102ca57876102b98a886105c5565b8115156102c257fe5b049450610309565b6102d486896105f8565b91506102e5828989620f4240610616565b80945081955050508260ff166102fb8a866105c5565b9060020a9004905088810394505b50505050949350505050565b60008060008060008060008a11801561032e5750600089115b8015610340575060008863ffffffff16115b801561035b5750620f424063ffffffff168863ffffffff1611155b80156103675750898711155b151561037257600080fd5b6000871415610384576000955061040c565b898714156103945788955061040c565b620f424063ffffffff168863ffffffff1614156103c757896103b68a896105c5565b8115156103bf57fe5b04955061040c565b868a0392506103db8a84620f42408b610616565b80955081965050506103ed89866105c5565b91508360ff16899060020a0290508481830381151561040857fe5b0495505b5050505050949350505050565b6000805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d166002900480156104af5780601f10610484576101008083540402835291602001916104af565b820191906000526020600020905b8154815290600101906020018083116104925782900d601f168201915b505050505081565b60008060008060008060008b1180156104d6575060008a63ffffffff16115b80156104f15750620f424063ffffffff168a63ffffffff1611155b80156104fd5750600089115b801561050f575060008863ffffffff16115b801561052a5750620f424063ffffffff168863ffffffff1611155b151561053557600080fd5b8763ffffffff168a63ffffffff16141561056e576105538b886105f8565b61055d8a896105c5565b81151561056657fe5b0495506105b7565b6105788b886105f8565b9250610586838c8c8b610616565b809550819650505061059889866105c5565b91508360ff16899060020a029050848183038115156105b357fe5b0495505b505050505095945050505050565b600080828402905060008414806105e657508284828115156105e357fe5b04145b15156105ee57fe5b8091505092915050565b600080828401905083811015151561060c57fe5b8091505092915050565b6000806000806000807002000000000000000000000000000000008a10151561063b57fe5b886f800000000000000000000000000000008b0281151561065857fe5b04925070015bf0a8b1457695355fb8ac404e7a79e38310156106845761067d8361070e565b9350610690565b61068d83610cdd565b93505b8663ffffffff168863ffffffff1685028115156106a957fe5b0491507008000000000000000000000000000000008210156106d9576106ce82610e13565b607f95509550610701565b6106e2826113d3565b90506106fb81607f0360ff16839060020a900482611493565b81955095505b5050505094509492505050565b60008060008060008093506fd3094c70f034de4b96ff7d5b6f99fcd886101515610778576f40000000000000000000000000000000840193506fd3094c70f034de4b96ff7d5b6f99fcd86f80000000000000000000000000000000870281151561077457fe5b0495505b6fa45af1e1f40c333b3de1db4dd55f29a7861015156107d7576f20000000000000000000000000000000840193506fa45af1e1f40c333b3de1db4dd55f29a76f8000000000000000000000000000000087028115156107d357fe5b0495505b6f910b022db7ae67ce76b441c27035c6a186101515610836576f10000000000000000000000000000000840193506f910b022db7ae67ce76b441c27035c6a16f80000000000000000000000000000000870281151561083257fe5b0495505b6f88415abbe9a76bead8d00cf112e4d4a886101515610895576f08000000000000000000000000000000840193506f88415abbe9a76bead8d00cf112e4d4a86f80000000000000000000000000000000870281151561089157fe5b0495505b6f84102b00893f64c705e841d5d4064bd3861015156108f4576f04000000000000000000000000000000840193506f84102b00893f64c705e841d5d4064bd36f8000000000000000000000000000000087028115156108f057fe5b0495505b6f8204055aaef1c8bd5c3259f4822735a286101515610953576f02000000000000000000000000000000840193506f8204055aaef1c8bd5c3259f4822735a26f80000000000000000000000000000000870281151561094f57fe5b0495505b6f810100ab00222d861931c15e39b44e99861015156109b2576f01000000000000000000000000000000840193506f810100ab00222d861931c15e39b44e996f8000000000000000000000000000000087028115156109ae57fe5b0495505b6f808040155aabbbe9451521693554f73386101515610a10576e800000000000000000000000000000840193506f808040155aabbbe9451521693554f7336f800000000000000000000000000000008702811515610a0c57fe5b0495505b6f80000000000000000000000000000000860392508291506f80000000000000000000000000000000838402811515610a4557fe5b04905070010000000000000000000000000000000083700100000000000000000000000000000000038302811515610a7957fe5b04840193506f80000000000000000000000000000000818302811515610a9b57fe5b049150700200000000000000000000000000000000836faaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa038302811515610ace57fe5b04840193506f80000000000000000000000000000000818302811515610af057fe5b049150700300000000000000000000000000000000836f99999999999999999999999999999999038302811515610b2357fe5b04840193506f80000000000000000000000000000000818302811515610b4557fe5b049150700400000000000000000000000000000000836f92492492492492492492492492492492038302811515610b7857fe5b04840193506f80000000000000000000000000000000818302811515610b9a57fe5b049150700500000000000000000000000000000000836f8e38e38e38e38e38e38e38e38e38e38e038302811515610bcd57fe5b04840193506f80000000000000000000000000000000818302811515610bef57fe5b049150700600000000000000000000000000000000836f8ba2e8ba2e8ba2e8ba2e8ba2e8ba2e8b038302811515610c2257fe5b04840193506f80000000000000000000000000000000818302811515610c4457fe5b049150700700000000000000000000000000000000836f89d89d89d89d89d89d89d89d89d89d89038302811515610c7757fe5b04840193506f80000000000000000000000000000000818302811515610c9957fe5b049150700800000000000000000000000000000000836f88888888888888888888888888888888038302811515610ccc57fe5b048401935083945050505050919050565b6000806000806000925070010000000000000000000000000000000085101515610d4d57610d256f8000000000000000000000000000000086811515610d1f57fe5b046118b7565b91508160ff16859060020a900494506f800000000000000000000000000000008260ff160292505b6f80000000000000000000000000000000851115610ddb57607f90505b60008160ff161115610dda576f80000000000000000000000000000000858602811515610d9357fe5b04945070010000000000000000000000000000000085101515610dce576001859060020a900494506001810360ff1660019060020a02830192505b80600190039050610d6a565b5b6f05b9de1d10bf4103d647b0955897ba806f03f80fe03f80fe03f80fe03f80fe03f88402811515610e0857fe5b049350505050919050565b600080600080600092506f1000000000000000000000000000000085811515610e3857fe5b0691508190506f80000000000000000000000000000000828202811515610e5b57fe5b0490506710e1b3be415a00008102830192506f80000000000000000000000000000000828202811515610e8a57fe5b0490506705a0913f6b1e00008102830192506f80000000000000000000000000000000828202811515610eb957fe5b049050670168244fdac780008102830192506f80000000000000000000000000000000828202811515610ee857fe5b049050664807432bc180008102830192506f80000000000000000000000000000000828202811515610f1657fe5b049050660c0135dca040008102830192506f80000000000000000000000000000000828202811515610f4457fe5b0490506601b707b1cdc0008102830192506f80000000000000000000000000000000828202811515610f7257fe5b0490506536e0f639b8008102830192506f80000000000000000000000000000000828202811515610f9f57fe5b049050650618fee9f8008102830192506f80000000000000000000000000000000828202811515610fcc57fe5b049050649c197dcc008102830192506f80000000000000000000000000000000828202811515610ff857fe5b049050640e30dce4008102830192506f8000000000000000000000000000000082820281151561102457fe5b04905064012ebd13008102830192506f8000000000000000000000000000000082820281151561105057fe5b0490506317499f008102830192506f8000000000000000000000000000000082820281151561107b57fe5b0490506301a9d4808102830192506f800000000000000000000000000000008282028115156110a657fe5b049050621c63808102830192506f800000000000000000000000000000008282028115156110d057fe5b0490506201c6388102830192506f800000000000000000000000000000008282028115156110fa57fe5b049050611ab88102830192506f8000000000000000000000000000000082820281151561112357fe5b04905061017c8102830192506f8000000000000000000000000000000082820281151561114c57fe5b04905060148102830192506f8000000000000000000000000000000082820281151561117457fe5b04905060018102830192506f80000000000000000000000000000000826721c3677c82b40000858115156111a457fe5b040101925060006f1000000000000000000000000000000086161415156111f85770018ebef9eac820ae8682b9793ac6d1e7767001c3d6a24ed82218787d624d3e5eba95f984028115156111f457fe5b0492505b60006f200000000000000000000000000000008616141515611247577001368b2fc6f9609fe7aceb46aa619baed470018ebef9eac820ae8682b9793ac6d1e778840281151561124357fe5b0492505b60006f400000000000000000000000000000008616141515611295576fbc5ab1b16779be3575bd8f0520a9f21f7001368b2fc6f9609fe7aceb46aa619baed5840281151561129157fe5b0492505b60006f8000000000000000000000000000000086161415156112e2576f454aaa8efe072e7f6ddbab84b40a55c96fbc5ab1b16779be3575bd8f0520a9f21e84028115156112de57fe5b0492505b60007001000000000000000000000000000000008616141515611330576f0960aadc109e7a3bf4578099615711ea6f454aaa8efe072e7f6ddbab84b40a55c5840281151561132c57fe5b0492505b6000700200000000000000000000000000000000861614151561137d576e2bf84208204f5977f9a8cf01fdce3d6f0960aadc109e7a3bf4578099615711d7840281151561137957fe5b0492505b600070040000000000000000000000000000000086161415156113c8576d03c6ab775dd0b95b4cbee7e65d116e2bf84208204f5977f9a8cf01fdc30784028115156113c457fe5b0492505b829350505050919050565b60008060008060209250607f91505b8160ff166001840160ff16101561143457600282840160ff1681151561140457fe5b0490508460018260ff1660808110151561141a57fe5b015410151561142b5780925061142f565b8091505b6113e2565b8460018360ff1660808110151561144757fe5b01541015156114585781935061148b565b8460018460ff1660808110151561146b57fe5b015410151561147c5782935061148b565b6000151561148657fe5b600093505b505050919050565b6000806000849150600090508360ff168583029060020a900491506f03442c4e6074a82f1797f72ac00000008202810190508360ff168583029060020a900491506f0116b96f757c380fb287fd0e400000008202810190508360ff168583029060020a900491506e45ae5bdd5f0e03eca1ff43900000008202810190508360ff168583029060020a900491506e0defabf91302cd95b9ffda500000008202810190508360ff168583029060020a900491506e02529ca9832b22439efff9b80000008202810190508360ff168583029060020a900491506d54f1cf12bd04e516b6da880000008202810190508360ff168583029060020a900491506d0a9e39e257a09ca2d6db510000008202810190508360ff168583029060020a900491506d012e066e7b839fa050c3090000008202810190508360ff168583029060020a900491506c1e33d7d926c329a1ad1a8000008202810190508360ff168583029060020a900491506c02bee513bdb4a6b19b5f8000008202810190508360ff168583029060020a900491506b3a9316fa79b88eccf2a000008202810190508360ff168583029060020a900491506b048177ebe1fa8123752000008202810190508360ff168583029060020a900491506a5263fe90242dcbacf000008202810190508360ff168583029060020a900491506a057e22099c030d941000008202810190508360ff168583029060020a900491506957e22099c030d94100008202810190508360ff168583029060020a9004915069052b6b545699763100008202810190508360ff168583029060020a90049150684985f67696bf7480008202810190508360ff168583029060020a900491506803dea12ea99e4980008202810190508360ff168583029060020a900491506731880f2214b6e0008202810190508360ff168583029060020a9004915067025bcff56eb360008202810190508360ff168583029060020a90049150661b722e10ab10008202810190508360ff168583029060020a900491506601317c700770008202810190508360ff168583029060020a90049150650cba84aafa008202810190508360ff168583029060020a900491506482573a0a008202810190508360ff168583029060020a900491506405035ad9008202810190508360ff168583029060020a90049150632f881b008202810190508360ff168583029060020a900491506301b293408202810190508360ff168583029060020a90049150620efc408202810190508360ff168583029060020a90049150617fe08202810190508360ff168583029060020a900491506104208202810190508360ff168583029060020a9004915060218202810190508360ff168583029060020a9004915060018202810190508360ff1660019060020a02856f0688589cc0e9505e2f2fee5580000000838115156118aa57fe5b0401019250505092915050565b60008060008091506101008410156118ee575b60018411156118e9576001849060020a900493506001820191506118ca565b611939565b608090505b60008160ff161115611938578060ff1660019060020a0284101515611925578060ff16849060020a9004935080821791505b60018160ff169060020a900490506118f3565b5b81925050509190505600a165627a7a72305820a79b6bbeb7398568be2424d2d5995780b011a35f14516b6d337ad2d3d4af4b810029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedBancorFormulaContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

Functions of the BancorFormula contract can be called like this
[source, javascript]
----
> deployedBancorFormulaContract.address
"0x164df0edf5d508ccc16cda4d00a39f69b28f7959"

> deployedBancorFormulaContract.version({from:accountA});
"0.3"
----

=== Owned

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/utility/Owned.sol
----

[source, javascript]
----
> var abi = [{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061047d806100606000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806379ba5097146100675780638da5cb5b1461007e578063d4ee1d90146100d5578063f2fde38b1461012c575b600080fd5b34801561007357600080fd5b5061007c61016f565b005b34801561008a57600080fd5b5061009361030e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156100e157600080fd5b506100ea610333565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561013857600080fd5b5061016d600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610359565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156101cb57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103b157fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561040d57600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a7230582024f2146e75e9e42554570cf3734f3dc8504d04e927d69511d500b32982328e5e0029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedOwnedContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

You can call the functions of the Bancor Owner contracts like this 

[source, javascript]
----
> deployedOwnedContract.address
"0xfa285416d8a57776b70223d979e42fccef640e42"

> accountA
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"

> deployedOwnedContract.owner({from:accountA});
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"
----

=== Managed

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/utility/Managed.sol
----

[source, javascript]
----
> var abi = [{"constant":true,"inputs":[],"name":"newManager","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"manager","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"acceptManagement","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newManager","type":"address"}],"name":"transferManagement","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevManager","type":"address"},{"indexed":true,"name":"_newManager","type":"address"}],"name":"ManagerUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506108f2806100a16000396000f30060806040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680634290602914610093578063481c6a75146100ea57806379ba5097146101415780638da5cb5b14610158578063c8c2fe6c146101af578063d4ee1d90146101c6578063e4edf8521461021d578063f2fde38b14610260575b600080fd5b34801561009f57600080fd5b506100a86102a3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156100f657600080fd5b506100ff6102c9565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561014d57600080fd5b506101566102ef565b005b34801561016457600080fd5b5061016d61048e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101bb57600080fd5b506101c46104b3565b005b3480156101d257600080fd5b506101db610654565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561022957600080fd5b5061025e600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061067a565b005b34801561026c57600080fd5b506102a1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506107ce565b005b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561034b57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561050f57600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fbe4cc281795971a471c980e842627a7f1ea3892ddfce8c5b6357cd2611c1973260405160405180910390a3600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614806107225750600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b151561072d57600080fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561078a57600080fd5b80600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561082657fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561088257600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a7230582088d717c57ef0728da31c7f5f4d5c0f810363a3d93460c092d73d4de22b60f4da0029";
----

[source, javascript]
----
var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedManagedContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

The functions of the Managed contract can be called like this
[source, javascript]
----
> deployedManagedContract.address
"0xdcc3f1c860af5f61c6dd8f6c2f0f296b3353b23b"

> accountA
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"

> deployedManagedContract.manager({from:accountA});
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"
----

=== TokenHolder

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/utility/TokenHolder.sol
----

[source, javascript]
----
> var abi = [{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"withdrawTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506106f1806100606000396000f30060806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680635e35359e1461007257806379ba5097146100df5780638da5cb5b146100f6578063d4ee1d901461014d578063f2fde38b146101a4575b600080fd5b34801561007e57600080fd5b506100dd600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506101e7565b005b3480156100eb57600080fd5b506100f46103e3565b005b34801561010257600080fd5b5061010b610582565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561015957600080fd5b506101626105a7565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101b057600080fd5b506101e5600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506105cd565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561023f57fe5b82600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561027c57600080fd5b82600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156102b957600080fd5b833073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156102f557600080fd5b8573ffffffffffffffffffffffffffffffffffffffff1663a9059cbb86866040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15801561039857600080fd5b505af11580156103ac573d6000803e3d6000fd5b505050506040513d60208110156103c257600080fd5b810190808051906020019092919050505015156103db57fe5b505050505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561043f57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561062557fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561068157600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a72305820820e7003fdc1196941f9bde7ba0466e2440d5ba1d07d1beb908b66f8fedc36aa0029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedTokenHolderContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

You can access the TokenHolder contract functions like this
[source, javascript]
----
> deployedTokenHolderContract.address
"0x495b3663527c47544b8b3654a8a4a6ec0dd13906"

> accountA
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"

> deployedTokenHolderContract.owner({from:accountA});
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"
----

=== ERC20Token

[source, bash]
----
./lityc/lityc --contract-standard ERC20 --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/token/ERC20Token.sol
----

[source, javascript]
----
> var abi = [{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"standard","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_decimals","type":"uint8"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x60806040526040805190810160405280600981526020017f546f6b656e20302e310000000000000000000000000000000000000000000000815250600090805190602001906200005192919062000183565b506020604051908101604052806000815250600190805190602001906200007a92919062000183565b50602060405190810160405280600081525060029080519060200190620000a392919062000183565b506000600360006101000a81548160ff021916908360ff1602179055506000600455348015620000d257600080fd5b5060405162001040380380620010408339810180604052810190808051820192919060200180518201929190602001805190602001909291905050506000835111801562000121575060008251115b15156200012d57600080fd5b82600190805190602001906200014592919062000183565b5081600290805190602001906200015e92919062000183565b5080600360006101000a81548160ff021916908360ff16021790555050505062000232565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f10620001c657805160ff1916838001178555620001f7565b82800160010185558215620001f7579182015b82811115620001f6578251825591602001919060010190620001d9565b5b5090506200020691906200020a565b5090565b6200022f91905b808211156200022b57600081600090555060010162000211565b5090565b90565b610dfe80620002426000396000f3006080604052600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde03146100a9578063095ea7b31461013957806318160ddd1461019e57806323b872dd146101c9578063313ce5671461024e5780635a3b7e421461027f57806370a082311461030f57806395d89b4114610366578063a9059cbb146103f6578063dd62ed3e1461045b575b600080fd5b3480156100b557600080fd5b506100be6104d2565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100fe5780820151818401526020810190506100e3565b50505050905090810190601f16801561012b5780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b34801561014557600080fd5b50610184600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610570565b604051808215151515815260200191505060405180910390f35b3480156101aa57600080fd5b506101b3610736565b6040518082815260200191505060405180910390f35b3480156101d557600080fd5b50610234600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061073c565b604051808215151515815260200191505060405180910390f35b34801561025a57600080fd5b50610263610a48565b604051808260ff1660ff16815260200191505060405180910390f35b34801561028b57600080fd5b50610294610a5b565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102d45780820151818401526020810190506102b9565b50505050905090810190601f1680156103015780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b34801561031b57600080fd5b50610350600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610af9565b6040518082815260200191505060405180910390f35b34801561037257600080fd5b5061037b610b11565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103bb5780820151818401526020810190506103a0565b50505050905090810190601f1680156103e85780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b34801561040257600080fd5b50610441600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610baf565b604051808215151515815260200191505060405180910390f35b34801561046757600080fd5b506104bc600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610d76565b6040518082815260200191505060405180910390f35b6001805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d166002900480156105685780601f1061053d57610100808354040283529160200191610568565b820191906000526020600020905b81548152906001019060200180831161054b5782900d601f168201915b505050505081565b600082600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156105af57600080fd5b600083148061063a57506000600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054145b151561064557600080fd5b82600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925856040518082815260200191505060405180910390a3600191505092915050565b60045481565b600083600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561077b57600080fd5b83600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156107b857600080fd5b61083e600660008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205485610d9b565b600660008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610907600560008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205485610d9b565b600560008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610993600560008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205485610db4565b600560008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef866040518082815260200191505060405180910390a36001925050509392505050565b600360009054906101000a900460ff1681565b6000805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d16600290048015610af15780601f10610ac657610100808354040283529160200191610af1565b820191906000526020600020905b815481529060010190602001808311610ad45782900d601f168201915b505050505081565b60056020528060005260406000206000915090505481565b6002805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d16600290048015610ba75780601f10610b7c57610100808354040283529160200191610ba7565b820191906000526020600020905b815481529060010190602001808311610b8a5782900d601f168201915b505050505081565b600082600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610bee57600080fd5b610c37600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205484610d9b565b600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610cc3600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205484610db4565b600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a3600191505092915050565b6006602052816000526040600020602052806000526040600020600091509150505481565b6000818310151515610da957fe5b818303905092915050565b6000808284019050838110151515610dc857fe5b80915050929150505600a165627a7a7230582065b46fcc1731fd395e9c8802687503303fd5709e3d3c3bc9253e5c8f7f431e180029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedERC20TokenContract = newContract.new("DummyToken","DUM","18",{from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

You can call the functions of the ERC20Token contract like this

[source, javascript]
----
> deployedERC20TokenContract.address
"0xe3a3df7717c7e6acb6c882cf5b32c460209cce9c"

> deployedERC20TokenContract.name({from:accountA});
"DummyToken"
----

=== CyberMilesToken (EtherToken)

The constructor for this Solidity contract is hard coded as shown below.

[source, javascript]
----
 constructor()
        public
        ERC20Token('Ether Token', 'ETH', 18) {
    }
----

==== This will need to be modified if CyberMiles CMT will be used as the reserve currency i.e. if this runs on the CyberMiles blockchain as apposed to the Ethereum blockchain. Here is an example of the modification.
[source, javascript]
----
 constructor()
        public
        ERC20Token('CyberMiles Token', 'CMT', 18) {
    }
----

[source, bash]
----
./lityc/lityc --contract-standard ERC20 --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/token/EtherToken.sol
----

[source, javascript]
----
> abi = [{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"withdrawTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"standard","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"withdrawTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_amount","type":"uint256"}],"name":"Issuance","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_amount","type":"uint256"}],"name":"Destruction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"}]
----

[source, javascript]
----
> var bytecode = "0x60806040526040805190810160405280600981526020017f546f6b656e20302e3100000000000000000000000000000000000000000000008152506002908051906020019062000051929190620001f6565b506020604051908101604052806000815250600390805190602001906200007a929190620001f6565b50602060405190810160405280600081525060049080519060200190620000a3929190620001f6565b506000600560006101000a81548160ff021916908360ff1602179055506000600655348015620000d257600080fd5b506040805190810160405280601081526020017f43796265724d696c657320546f6b656e000000000000000000000000000000008152506040805190810160405280600381526020017f434d5400000000000000000000000000000000000000000000000000000000008152506012336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000835111801562000194575060008251115b1515620001a057600080fd5b8260039080519060200190620001b8929190620001f6565b508160049080519060200190620001d1929190620001f6565b5080600560006101000a81548160ff021916908360ff160217905550505050620002a5565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f106200023957805160ff19168380011785556200026a565b828001600101855582156200026a579182015b82811115620002695782518255916020019190600101906200024c565b5b5090506200027991906200027d565b5090565b620002a291905b808211156200029e57600081600090555060010162000284565b5090565b90565b6118f580620002b56000396000f3006080604052600436106100fc576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde0314610106578063095ea7b31461019657806318160ddd146101fb578063205c28781461022657806323b872dd146102735780632e1a7d4d146102f8578063313ce567146103255780635a3b7e42146103565780635e35359e146103e657806370a082311461045357806379ba5097146104aa5780638da5cb5b146104c157806395d89b4114610518578063a9059cbb146105a8578063d0e30db01461060d578063d4ee1d9014610617578063dd62ed3e1461066e578063f2fde38b146106e5575b610104610728565b005b34801561011257600080fd5b5061011b610864565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561015b578082015181840152602081019050610140565b50505050905090810190601f1680156101885780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b3480156101a257600080fd5b506101e1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610902565b604051808215151515815260200191505060405180910390f35b34801561020757600080fd5b50610210610ac8565b6040518082815260200191505060405180910390f35b34801561023257600080fd5b50610271600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610ace565b005b34801561027f57600080fd5b506102de600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c90565b604051808215151515815260200191505060405180910390f35b34801561030457600080fd5b5061032360048036038101908080359060200190929190505050610ced565b005b34801561033157600080fd5b5061033a610cfa565b604051808260ff1660ff16815260200191505060405180910390f35b34801561036257600080fd5b5061036b610d0d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103ab578082015181840152602081019050610390565b50505050905090810190601f1680156103d85780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b3480156103f257600080fd5b50610451600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610dab565b005b34801561045f57600080fd5b50610494600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610fa7565b6040518082815260200191505060405180910390f35b3480156104b657600080fd5b506104bf610fbf565b005b3480156104cd57600080fd5b506104d661115e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561052457600080fd5b5061052d611183565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561056d578082015181840152602081019050610552565b50505050905090810190601f16801561059a5780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b3480156105b457600080fd5b506105f3600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611221565b604051808215151515815260200191505060405180910390f35b610615610728565b005b34801561062357600080fd5b5061062c61127c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561067a57600080fd5b506106cf600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506112a2565b6040518082815260200191505060405180910390f35b3480156106f157600080fd5b50610726600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506112c7565b005b610771600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054346113bf565b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506107c0600654346113bf565b6006819055507f9386c90217c323f58030f9dadcbc938f807a940f4ff41cd4cead9562f5da7dc3346040518082815260200191505060405180910390a13373ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef346040518082815260200191505060405180910390a3565b6003805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d166002900480156108fa5780601f106108cf576101008083540402835291602001916108fa565b820191906000526020600020905b8154815290600101906020018083116108dd5782900d601f168201915b505050505081565b600082600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561094157600080fd5b60008314806109cc57506000600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054145b15156109d757600080fd5b82600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925856040518082815260200191505060405180910390a3600191505092915050565b60065481565b813073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610b0a57600080fd5b610b53600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054836113dd565b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610ba2600654836113dd565b6006819055508273ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050158015610bee573d6000803e3d6000fd5b503073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a37f9a1b418bc061a5d80270261562e6986a35d995f8051145f277be16103abd3453826040518082815260200191505060405180910390a1505050565b6000823073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610cce57600080fd5b610cd98585856113f6565b1515610ce157fe5b60019150509392505050565b610cf73382610ace565b50565b600560009054906101000a900460ff1681565b6002805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d16600290048015610da35780601f10610d7857610100808354040283529160200191610da3565b820191906000526020600020905b815481529060010190602001808311610d865782900d601f168201915b505050505081565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e0357fe5b82600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610e4057600080fd5b82600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610e7d57600080fd5b833073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610eb957600080fd5b8573ffffffffffffffffffffffffffffffffffffffff1663a9059cbb86866040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015610f5c57600080fd5b505af1158015610f70573d6000803e3d6000fd5b505050506040513d6020811015610f8657600080fd5b81019080805190602001909291905050501515610f9f57fe5b505050505050565b60076020528060005260406000206000915090505481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561101b57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6004805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d166002900480156112195780601f106111ee57610100808354040283529160200191611219565b820191906000526020600020905b8154815290600101906020018083116111fc5782900d601f168201915b505050505081565b6000823073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561125f57600080fd5b6112698484611702565b151561127157fe5b600191505092915050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6008602052816000526040600020602052806000526040600020600091509150505481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561131f57fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561137b57600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008082840190508381101515156113d357fe5b8091505092915050565b60008183101515156113eb57fe5b818303905092915050565b600083600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561143557600080fd5b83600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561147257600080fd5b6114f8600860008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054856113dd565b600860008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506115c1600760008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054856113dd565b600760008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061164d600760008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054856113bf565b600760008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef866040518082815260200191505060405180910390a36001925050509392505050565b600082600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561174157600080fd5b61178a600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054846113dd565b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611816600760008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054846113bf565b600760008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a36001915050929150505600a165627a7a7230582065e4422a82bc0824726b2165d13bdc34febe4b8b2d553f420f6845db1ed800510029"
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedEtherTokenContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

The CyberMiles Token contract functions can be called as shown below

[source, javascript]
----
> deployedEtherTokenContract.address
"0xfa0892e910ea6ff671835f03527d8594372ccd68"

> deployedEtherTokenContract.name({from:accountA});
"CyberMiles Token"

> deployedEtherTokenContract.symbol({from:accountA});
"CMT"
----

=== Contract Registry

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/utility/ContractRegistry.sol
----

[source, javascript]
----
> var abi = [{"constant":true,"inputs":[{"name":"_contractName","type":"bytes32"}],"name":"getAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_contractName","type":"bytes32"}],"name":"unregisterAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"contractNames","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_contractName","type":"bytes32"},{"name":"_contractAddress","type":"address"}],"name":"registerAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"itemCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_contractName","type":"bytes32"}],"name":"addressOf","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_contractName","type":"bytes32"},{"indexed":false,"name":"_contractAddress","type":"address"}],"name":"AddressUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610f5a806100606000396000f3006080604052600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806321f8a721146100a95780632bbd95301461011a5780633ca6bb921461014b578063662de379146101f15780636bfb0d011461024257806379ba50971461026d5780638da5cb5b14610284578063bb34534c146102db578063d4ee1d901461034c578063f2fde38b146103a3575b600080fd5b3480156100b557600080fd5b506100d860048036038101908080356000191690602001909291905050506103e6565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561012657600080fd5b5061014960048036038101908080356000191690602001909291905050506103f8565b005b34801561015757600080fd5b5061017660048036038101908080359060200190929190505050610657565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101b657808201518184015260208101905061019b565b50505050905090810190601f1680156101e35780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b3480156101fd57600080fd5b506102406004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610712565b005b34801561024e57600080fd5b5061025761095f565b6040518082815260200191505060405180910390f35b34801561027957600080fd5b5061028261096c565b005b34801561029057600080fd5b50610299610b0b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156102e757600080fd5b5061030a6004803603810190808035600019169060200190929190505050610b30565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561035857600080fd5b50610361610b78565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156103af57600080fd5b506103e4600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b9e565b005b60006103f182610b30565b9050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561045057fe5b6000602060ff1611151561046357600080fd5b600060026000836000191660001916815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060026000826000191660001916815260200190815260200160002060020160009054906101000a900460ff16156105eb57600060026000836000191660001916815260200190815260200160002060020160006101000a81548160ff021916908315150217905550600160038054905011156105b057600360016003805490500381548110151561054e57fe5b9060005260206000200160036002600084600019166000191681526020019081526020016000206001015481548110151561058557fe5b9060005260206000200190805460018160011615610100020d16600290046105ae929190610d62565b505b60038054809190600190036105c59190610de9565b506000600260008360001916600019168152602001908152602001600020600101819055505b80600019167ffc08d1253c81bcd5444fc7056ef1f5a5df4c9220b6fd70d7449267f1f0f299186000604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a250565b60038181548110151561066657fe5b90600052602060002001600091509050805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d1660029004801561070a5780601f106106df5761010080835404028352916020019161070a565b820191906000526020600020905b8154815290600101906020018083116106ed5782900d601f168201915b505050505081565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561076c57fe5b81600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156107a957600080fd5b6000602060ff161115156107bc57600080fd5b8260026000866000191660001916815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060026000856000191660001916815260200190815260200160002060020160009054906101000a900460ff1615156108f157600160026000866000191660001916815260200190815260200160002060020160006101000a81548160ff021916908315150217905550600361088d85610c96565b90806001815401808255809150509060018203906000526020600020016000909192909190915090805190602001906108c7929190610e15565b50915060018203600260008660001916600019168152602001908152602001600020600101819055505b83600019167ffc08d1253c81bcd5444fc7056ef1f5a5df4c9220b6fd70d7449267f1f0f2991884604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a250505050565b6000600380549050905090565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156109c857600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060026000836000191660001916815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610bf657fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610c5257600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b606080600060206040519080825280601f01601f191660200182016040528015610ccf5781602001602082028038833980820191505090505b5091505b6020811015610d58578381602081101515610cea57fe5b1a7f0100000000000000000000000000000000000000000000000000000000000000028282815181101515610d1b57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050610cd3565b8192505050919050565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f10610d9b5780548555610dd8565b82800160010185558215610dd857600052602060002091601f016020900482015b82811115610dd7578254825591600101919060010190610dbc565b5b509050610de59190610e95565b5090565b815481835581811115610e1057818360005260206000209182019101610e0f9190610eba565b5b505050565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f10610e5657805160ff1916838001178555610e84565b82800160010185558215610e84579182015b82811115610e83578251825591602001919060010190610e68565b5b509050610e919190610e95565b5090565b610eb791905b80821115610eb3576000816000905550600101610e9b565b5090565b90565b610ee391905b80821115610edf5760008181610ed69190610ee6565b50600101610ec0565b5090565b90565b50805460018160011615610100020d16600290046000825580601f10610f0c5750610f2b565b601f016020900490600052602060002090810190610f2a9190610e95565b5b505600a165627a7a72305820c958160addbb1ed6c783b694e4b02d5096cfb55d99e198282ffe3c9befe38e710029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
> var deployedContractRegistryContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

You can call the functions of the ContractRegistry like this
[source, javascript]
----
> deployedContractRegistryContract.address
"0x3dcddd954362ac845c96916092f208c5e1df68fc"

> deployedContractRegistryContract.owner({from:accountA});
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"
----

=== Contract Features

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/utility/ContractFeatures.sol
----

[source, javascript]
----
> var abi = [{"constant":false,"inputs":[{"name":"_features","type":"uint256"},{"name":"_enable","type":"bool"}],"name":"enableFeatures","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_contract","type":"address"},{"name":"_features","type":"uint256"}],"name":"isSupported","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_address","type":"address"},{"indexed":false,"name":"_features","type":"uint256"}],"name":"FeaturesAddition","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_address","type":"address"},{"indexed":false,"name":"_features","type":"uint256"}],"name":"FeaturesRemoval","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b506102d7806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632c7077c014610051578063a5fbf2871461008a575b600080fd5b34801561005d57600080fd5b50610088600480360381019080803590602001909291908035151590602001909291905050506100ef565b005b34801561009657600080fd5b506100d5600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061025e565b604051808215151515815260200191505060405180910390f35b80156101a8576100ff338361025e565b156101095761025a565b816000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825417925050819055503373ffffffffffffffffffffffffffffffffffffffff167f461f0180592d0fa11ece082775c5b037a96f6a5418f3f23d4ee4ee063b5c1aac836040518082815260200191505060405180910390a2610259565b6101b2338361025e565b15156101bd5761025a565b81196000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825416925050819055503373ffffffffffffffffffffffffffffffffffffffff167f903f96a6f8c316bb88b30f8b641bd2aa80b6e92732bab4d1accf30e1d6eba89c836040518082815260200191505060405180910390a25b5b5050565b600081826000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205416149050929150505600a165627a7a7230582059bb862380d908320d29e7d1a3b25349fb0afd8e418ae0b96ae13b603e5ea8ab0029";
----

[source, javascript]
----
var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
var deployedContractFeaturesContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

You can call the functions of the deployedContractFeaturesContract like this
[source, javascript]
----
> deployedContractFeaturesContract.address
"0x897c139e212ea4d18c2799ad7c2a72043df62e66"
----

=== Whitelist

[source, bash]
----
./lityc/lityc --overwrite --allow-paths ../, --abi --bin -o output/ ~/contracts/solidity/contracts/utility/Whitelist.sol
----

[source, javascript]
----
> var abi = [{"constant":false,"inputs":[{"name":"_addresses","type":"address[]"}],"name":"addAddresses","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"addAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isWhitelisted","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"removeAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_addresses","type":"address[]"}],"name":"removeAddresses","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_address","type":"address"}],"name":"AddressAddition","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_address","type":"address"}],"name":"AddressRemoval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"}];
----

[source, javascript]
----
> var bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610a52806100606000396000f300608060405260043610610099576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680633628731c1461009e57806338eada1c146101045780633af32abf146101475780634ba79dfe146101a257806379ba5097146101e55780638da5cb5b146101fc578063a84eb99914610253578063d4ee1d90146102b9578063f2fde38b14610310575b600080fd5b3480156100aa57600080fd5b5061010260048036038101908080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509192919290505050610353565b005b34801561011057600080fd5b50610145600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610393565b005b34801561015357600080fd5b50610188600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061053f565b604051808215151515815260200191505060405180910390f35b3480156101ae57600080fd5b506101e3600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610595565b005b3480156101f157600080fd5b506101fa610704565b005b34801561020857600080fd5b506102116108a3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561025f57600080fd5b506102b7600480360381019080803590602001908201803590602001908080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505091929192905050506108c8565b005b3480156102c557600080fd5b506102ce610908565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561031c57600080fd5b50610351600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061092e565b005b60008090505b815181101561038f57610382828281518110151561037357fe5b90602001906020020151610393565b8080600101915050610359565b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103eb57fe5b80600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561042857600080fd5b600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161561047f5761053b565b6001600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055507f2c51f80053e9ee7518567e43b2f8e8b48f50cf10daede6d11893df9ad49e4a8a82604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a15b5050565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ed57fe5b600260008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151561064557610701565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055507f7ec2df28665f8610f9b1d2f74faae35dbc6bd58684a1194a6dfc31584953f03b81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a15b50565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561076057600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008090505b8151811015610904576108f782828151811015156108e857fe5b90602001906020020151610595565b80806001019150506108ce565b5050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561098657fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156109e257600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a72305820b8adbf01e820eb1e1164c2bd4bfb47a86c27cb0a94a3d354a7a439e9e23582d10029";
----

[source, javascript]
----
> var newContract = web3.cmt.contract(abi, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

[source, javascript]
----
var deployedWhitelistContract = newContract.new({from:accountA, data: bytecode, gas:"5000000"}, function(error, result){if(!error){console.log(result)}else{console.log(error)}});
----

You can call the functions of the deployedWhitelistContract like this
[source, javascript]
----
> deployedWhitelistContract.address
"0x0679d413b7925dee6e24b53347584c94a73d65f3"

> deployedWhitelistContract.owner({from:accountA});
"0xbc7a8577c52ad0ec7e0e5df55018fbbd1cec2209"
----

=== Bancor?

[source, bash]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

=== Bancor?

[source, bash]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

=== Bancor?

[source, bash]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

=== Bancor?

[source, bash]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

=== Bancor?

[source, bash]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

=== Bancor?

[source, bash]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----

[source, javascript]
----

----
